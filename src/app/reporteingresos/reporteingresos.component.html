

<div class="main-content" style="background-color: #ebebeb; padding: 20px;">
  <div class="container-fluid">
    
    <div class="form-row">
      <div class="col-md-12">

    <!-- Pestañas asincrónicas -->
    <div *ngIf="(asyncTabs | async) === null">
     
    </div>

    
    <mat-tab-group *ngIf="(asyncTabs | async) !== null">
      <mat-tab *ngFor="let tab of asyncTabs | async">
        <ng-template mat-tab-label>{{ tab.label }}</ng-template>
        <!-- Contenido de la pestaña "Sin créditos" -->
        <div *ngIf="tab.label === 'DIARIO DE VENTA (DÍA-SEMANA-MES)'">

        
         <br>
   
          <!-- Listado de los alimentos. -->
          
          
          <div class="container-fluid mx-auto">
            

            <div class="form-row">
              
                  <div class="text-center col-md-12 ">
                    <label class="ñ" for="">Reporte de ingresos $</label>
                  </div>

                  

              <div class="form-group containerversion2 col-md-12">




          
        

                
                <div class="col-lg-3">
                  <div class="labelversion2">
                    <div class="form-group">
                      <div class="formmm">
                        <div class="search-container text-center">
                          <label class="label">Seleccionar el filtro:</label>
                          <div class="search-box">
                            <select class="form-control text-center" id="filtroSelect" [(ngModel)]="filtroSeleccionadoV2" (change)="limpiarInputYMostrarTablaV2()">
                              <option value="Seleccionar" disabled selected>Seleccione</option>
                              <option value="diaV2">Día</option>
                              <option value="semanaV2">Semana</option>
                              <option value="mesV2">Mes</option>
                            </select>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                
            
                 
                
                
                <div class="col-lg-3" *ngIf="filtroSeleccionadoV2 === 'diaV2'">
                  <div class="labelversion2">
                    <div class="form-group">
                      <div class="formmm">
                        <div class="search-container">
                          <label class="label">Buscar la fecha:</label>
                          <div class="search-box">
                            <div> 
                              <input type="date" class="form-control" [(ngModel)]="fechaSeleccionadaV2" name="fecha" id="input-datalist-fecha" />
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
          
                

                <div class="col-lg-3" *ngIf="filtroSeleccionadoV2 === 'semanaV2'">
                  <div class="labelversion2">
                    <div class="form-group">
                      <div class="formmm">
                        <label class="label">Seleccionar fechas: inicio - fin:</label>
                        <div class="search-container">
                          <div class="search-box">
                            <div class="form-inline"> <!-- Contenedor para alinear horizontalmente -->
                              <input type="date" class="form-control" [(ngModel)]="semanaSeleccionadoV2" name="fecha" id="input-datalist-fecha" />
                              <input type="date" class="form-control" [(ngModel)]="semanaSeleccionadofinV2" name="fechaFin" id="input-datalist-fecha" />
                          
                          
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                


                <div class="col-lg-3" *ngIf="filtroSeleccionadoV2 === 'mesV2'">
                  <div class="labelversion2">
                    <div class="form-group">
                      <div class="formmm">
                        <div class="search-container text-center">
                          <label class="label">Seleccionar el mes:</label>
                          <div class="search-box">
                            <select class="form-control text-center" [(ngModel)]="mesSeleccionadoV2">
                              <option value="" disabled selected>Seleccione</option> <!-- Opción inicial -->
                              <option value="1">Enero</option>
                              <option value="2">Febrero</option>
                              <option value="3">Marzo</option>
                              <option value="4">Abril</option>
                              <option value="5">Mayo</option>
                              <option value="6">Junio</option>
                              <option value="7">Julio</option>
                              <option value="8">Agosto</option>
                              <option value="9">Septiembre</option>
                              <option value="10">Octubre</option>
                              <option value="11">Noviembre</option>
                              <option value="12">Diciembre</option>
                            </select>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>


                
                <div class="col-lg-3">
                  <div class="labelversion2">
                    <button type="button" class="btn btn-danger" (click)="buscarIngredientePorFiltroV2()" style="display: flex; align-items: center;">
                      Filtrar&nbsp;
                      <i class="fa fa-search fa-stack-1x" style="vertical-align: middle; margin-left: 5px;"></i>
                    </button>
                  </div>
                </div>
                
                
                
                
              
          
            </div>



            
                
          </div>
          



          
        <!-- Agrega esta parte en tu HTML donde desees mostrar la imagen y la línea <div> -->
          <div class="text-center" *ngIf="!reportesssV2 || reportesssV2.length === 0 || !mostrarImagenV2" >
            <br><br>
            <img src="/assets/img/reporteIngreso.png" alt="" class="center-img">
          </div>
          

          
          


        </div>
        
      
         

<div class="col-md-12">
<div class="card text-center" *ngIf="mostrarTablaV2 && reportesssV2 && reportesssV2.length > 0">
  <div class="card-header card-header-danger d-flex align-items-center justify-content-between">
    <h4 class="card-title disabled label2">
      <img src="/assets/img/estadisticas.png" class="edit" alt="" /> Reporte de menú por día
    </h4>
   
    <li class="nav-item dropdown">
      <a class="nav-link label2 col" href="javascript:void(0)" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        Descargar <i class="material-icons">file_download</i>
        <p><span class="d-lg-none d-md-block">Some Actions</span></p>
      </a>
      <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">
        <a class="dropdown-item" (click)="descargarDatosV2()">Exportar a excel <img class="tamimg" src="/assets/img/microsoft-excel.svg" alt=""></a>
        <a class="dropdown-item" (click)="descargarPDFV2()">Exportar a pdf <i class="material-icons">picture_as_pdf</i></a>
      </div>
    </li>


  </div>
  
  <div class="card-body text-center">
    <br>
    
    <div class="table-responsive">
      <table class="table">
        <thead class="kiol">
         Total de venta diaria: {{totalSum}} $

        </thead> <br>
        
        <thead class="text-primary">
          <th>Menú</th>
          <th>Fecha</th>
          <th>Cantidad del menú</th>
          <th>Con créditos</th>
          <th>Sin créditos</th>
          <th>Precio del menú</th>
          <th>Precio total con créditos</th>
          <th>Precio total Sin créditos</th>
          <th>Total</th>
        </thead>
      
        <tbody>
          <ng-container *ngFor="let item of pagedReportesssV2">
            <ng-container *ngIf="(!nombreproductoFiltro || item.descripcion.toLowerCase().includes(nombreproductoFiltro.toLowerCase()))">
              <tr>
                <td>{{ item.descripcion }}</td>
                <td>{{ item.fecha }}</td>
                <td>{{ item.cantidadPlato }}</td>
                <td>{{ item.conCreditos }}</td>
                <td>{{ item.sinCreditos }}</td>
                <td>{{ formatCurrency(item.precio) }}</td>
                <td>{{ formatCurrency(item.totalConCreditos) }}</td>
                <td>{{ formatCurrency(item.totalSinCreditos) }}</td>
                <td>{{ formatCurrency(item.total) }}</td>
              </tr>
            </ng-container>
          </ng-container>
        </tbody>
      </table>
    </div>
  
    <!-- Contenedor para centrar la paginación -->
    <div class="pagination-containerrrr">
      <!-- Paginación -->
      <div class="pagination">
        <button (click)="onPageChange(currentPage - 1)" [disabled]="currentPage === 1">
          <i class="fa fa-arrow-left"></i> Anterior
        </button>
        <span class="k">Página {{ currentPage }} de {{ totalPages }}</span>
        <button (click)="onPageChange(currentPage + 1)" [disabled]="currentPage >= totalPages">
          Siguiente <i class="fa fa-arrow-right"></i>
        </button>
      </div>
    </div>
  </div>
  
</div>
</div>



<div class="col-md-12">
<div class="card text-center " *ngIf="mostrarTablasemanaV2 && reportesssV2 && reportesssV2.length > 0">
  <div class="card-header card-header-danger d-flex align-items-center justify-content-between">
    <h4 class="card-title disabled label2"> <img
      src="/assets/img/estadisticas.png"
      class="edit"
      alt=""
    /> Reporte de menú por Semana</h4>
   
   
    <li class="nav-item dropdown">
      <a class="nav-link label2 col" href="javascript:void(0)" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"  >
        Descargar    <i class="material-icons">file_download</i> 
        
          <p>
              <span class="d-lg-none d-md-block">Some Actions</span>
          </p>
      </a>
      <div class="dropdown-menu  dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">
          <a class="dropdown-item" (click)="descargarDatosSemanaV2()"  >Exportar a excel <img class="tamimg" src="/assets/img/microsoft-excel.svg" alt=""> </a>
          <a class="dropdown-item" (click)="descargarSemanaPDFV2()"  > Exportar a pdf <i class="material-icons">picture_as_pdf</i></a>
        
          
      </div>
  </li>



  </div>
  <div class="card-body text-center">
    <div class="table-responsive">
      <table class="table">
        <thead class="kiol">
          Total de venta semanal: {{totalSum}} $
 
         </thead>
        <thead class="text-primary">
          <th>Menú</th>
          <th>Fecha Inicio</th>
          <th>Fecha Final</th>
          <th>Cantidad del menú</th>
          <th>Con créditos</th>
          <th>Sin créditos</th>

          <th>Precio del menú</th>
          <th>Precio total con créditos</th>
          <th>Precio total Sin créditos</th>
          <th>Total</th>
        </thead>
        <tbody>
          <ng-container *ngFor="let item of pagedReportesssV2">
            <tr>
              <td>{{ item.descripcion }}</td>
              <td>{{ item.fechaInicio }}</td>
              <td>{{ item.fechaFin }}</td>
              <td>{{ item.cantidadPlato }}</td>
              <td>{{ item.conCreditos }}</td>
              <td>{{ item.sinCreditos }}</td>

              <td> {{ item.precio }} </td>
              <td> {{ item.totalConCreditos }}    </td>
                  
              <td>{{ item.totalSinCreditos }}</td>
              <td>{{ item.total }}</td>
            </tr>
          </ng-container>
          
        </tbody>
      </table>
    </div>
  </div>
</div>
</div>


 


<div class="col-md-12">
  <div class="card text-center" *ngIf="mostrarTablamesV2 && reportesssV2 && reportesssV2.length > 0">
    <div class="card-header card-header-danger d-flex align-items-center justify-content-between">
      <h4 class="card-title disabled label2">
        <img src="/assets/img/estadisticas.png" class="edit" alt="" /> Reporte de menú por mes
      </h4>
     
      <li class="nav-item dropdown">
        <a class="nav-link label2 col" href="javascript:void(0)" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Descargar <i class="material-icons">file_download</i>
          <p><span class="d-lg-none d-md-block">Some Actions</span></p>
        </a>
        <div class="dropdown-menu  dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">
          <a class="dropdown-item" (click)="descargarMesDatosV2()"  >Exportar a excel <img class="tamimg" src="/assets/img/microsoft-excel.svg" alt=""> </a>
          <a class="dropdown-item" (click)="descargarMesPDFV2()"  > Exportar a pdf <i class="material-icons">picture_as_pdf</i></a>
        
          
      </div>
      </li>
  
  
    </div>
    
    <div class="card-body text-center">
      <br>
      
      <div class="table-responsive">
        <table class="table">
          <thead class="kiol">
            Total de venta mensual: {{totalSum}} $
   
           </thead>
          <thead class="text-primary">
            <th>Menú</th>
            <th>Mes</th>
            <th>Cantidad del menú</th>
            <th>Con créditos</th>
            <th>Sin créditos</th>
            <th>Precio del menú</th>
            <th>Precio total con créditos</th>
            <th>Precio total Sin créditos</th>
            <th>Total</th>
          </thead>
        
          <tbody>
            <ng-container *ngFor="let item of pagedReportesssV2">
              <ng-container *ngIf="(!nombreproductoFiltro || item.descripcion.toLowerCase().includes(nombreproductoFiltro.toLowerCase()))">
                <tr>
                  <td>{{ item.descripcion }}</td>
                  <td>{{ item.fecha }}</td>
                  <td>{{ item.cantidadPlato }}</td>
                  <td>{{ item.conCreditos }}</td>
                  <td>{{ item.sinCreditos }}</td>
                  <td>{{ formatCurrency(item.precio) }}</td>
                  <td>{{ formatCurrency(item.totalConCreditos) }}</td>
                  <td>{{ formatCurrency(item.totalSinCreditos) }}</td>
                  <td>{{ formatCurrency(item.total) }}</td>
                </tr>
              </ng-container>
            </ng-container>
          </tbody>
        </table>
      </div>
    
      <!-- Contenedor para centrar la paginación -->
      <div class="pagination-containerrrr">
        <!-- Paginación -->
        <div class="pagination">
          <button (click)="onPageChange(currentPage - 1)" [disabled]="currentPage === 1">
            <i class="fa fa-arrow-left"></i> Anterior
          </button>
          <span class="k">Página {{ currentPage }} de {{ totalPages }}</span>
          <button (click)="onPageChange(currentPage + 1)" [disabled]="currentPage >= totalPages">
            Siguiente <i class="fa fa-arrow-right"></i>
          </button>
        </div>
      </div>
    </div>
    
  </div>
  </div>
  
          

        </div>

<!-- ----------------------------------------------------------------------------------------------------------------------------------------->
       
        <!-- Contenido de la pestaña "Con Créditos" -->
        <div *ngIf="tab.label === 'DIARIO DE VENTA POR MENÚ (DÍA-SEMANA-MES)'">
<br>
 
 
            <div class="container-fluid mx-auto">
            

              <div class="form-row">
                
                    <div class="text-center col-md-12 ">
                      <label class="ñ" for="">Reporte de ingresos $</label>
                    </div>

                    

                <div class="form-group containerversion2 col-md-12">




            
          

                  
                  <div class="col-lg-3">
                    <div class="labelversion2">
                      <div class="form-group">
                        <div class="formmm">
                          <div class="search-container text-center">
                            <label class="label">Seleccionar el filtro:</label>
                            <div class="search-box">
                              <select class="form-control text-center" id="filtroSelect" [(ngModel)]="filtroSeleccionado" (change)="limpiarInputYMostrarTabla()">
                                <option value="Seleccionar" disabled selected>Seleccione</option>
                                <option value="dia">Día</option>
                                <option value="semana">Semana</option>
                                <option value="mes">Mes</option>
                              </select>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  
              
                  <div class="col-lg-3">
                    <div class="labelversion2">
                      <div class="form-group">
                        <div class="formmm">
                          <div class="search-container">
                            <label class="label">Seleccionar el menú:</label>
                            <div class="search-box">
                              <input type="text" class="form-control" list="list-timezone-platos" [(ngModel)]="platoSeleccionado.descripcion" (input)="updatePlatoId($event)" />
                              <datalist id="list-timezone-platos">
                                <option *ngFor="let item2 of platosss" [value]="item2.descripcion"></option>
                              </datalist>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  
                  
                  <div class="col-lg-3" *ngIf="filtroSeleccionado === 'dia'">
                    <div class="labelversion2">
                      <div class="form-group">
                        <div class="formmm">
                          <div class="search-container">
                            <label class="label">Buscar la fecha:</label>
                            <div class="search-box">
                              <div> 
                                <input type="date" class="form-control" [(ngModel)]="fechaSeleccionada" name="fecha" id="input-datalist-fecha" />
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
            
                  

                  <div class="col-lg-3" *ngIf="filtroSeleccionado === 'semana'">
                    <div class="labelversion2">
                      <div class="form-group">
                        <div class="formmm">
                          <label class="label">Seleccionar fechas: inicio - fin:</label>
                          <div class="search-container">
                            <div class="search-box">
                              <div class="form-inline"> <!-- Contenedor para alinear horizontalmente -->
                                <input type="date" class="form-control" [(ngModel)]="fechaSeleccionada" name="fecha" id="input-datalist-fecha" />
                                <input type="date" class="form-control" [(ngModel)]="fechafinalSeleccionada" name="fecha" id="input-datalist-fecha" />
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  


                  <div class="col-lg-3" *ngIf="filtroSeleccionado === 'mes'">
                    <div class="labelversion2">
                      <div class="form-group">
                        <div class="formmm">
                          <div class="search-container text-center">
                            <label class="label">Seleccionar el mes:</label>
                            <div class="search-box">
                              <select class="form-control text-center" [(ngModel)]="mesSeleccionado">
                                <option value="" disabled selected>Seleccione</option> <!-- Opción inicial -->
                                <option value="1">Enero</option>
                                <option value="2">Febrero</option>
                                <option value="3">Marzo</option>
                                <option value="4">Abril</option>
                                <option value="5">Mayo</option>
                                <option value="6">Junio</option>
                                <option value="7">Julio</option>
                                <option value="8">Agosto</option>
                                <option value="9">Septiembre</option>
                                <option value="10">Octubre</option>
                                <option value="11">Noviembre</option>
                                <option value="12">Diciembre</option>
                              </select>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>


                  
                  <div class="col-lg-3">
                    <div class="labelversion2">
                      <button type="button" class="btn btn-danger" (click)="buscarIngredientePorFiltro()" style="display: flex; align-items: center;">
                        Filtrar&nbsp;
                        <i class="fa fa-search fa-stack-1x" style="vertical-align: middle; margin-left: 5px;"></i>
                      </button>
                    </div>
                  </div>
                  
                  
                  
                  
                
            
              </div>



              
                  
            </div>
            



            
          <!-- Agrega esta parte en tu HTML donde desees mostrar la imagen y la línea <div> -->
            <div class="text-center" *ngIf="!reportesss || reportesss.length === 0 || !mostrarImagen" >
              <br><br>
              <img src="/assets/img/reporteIngreso.png" alt="" class="center-img">
            </div>
            

            
            


          </div>
          
        
           
  
<div class="col-md-12">
  <div class="card text-center" *ngIf="mostrarTabla && reportesss && reportesss.length > 0">
    <div class="card-header card-header-danger d-flex align-items-center justify-content-between">
      <h4 class="card-title disabled label2">
        <img src="/assets/img/estadisticas.png" class="edit" alt="" /> Reporte de menú por día
      </h4>
     
      <li class="nav-item dropdown">
        <a class="nav-link label2 col" href="javascript:void(0)" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Descargar <i class="material-icons">file_download</i>
          <p><span class="d-lg-none d-md-block">Some Actions</span></p>
        </a>
        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">
          <a class="dropdown-item" (click)="descargarDatos()">Exportar a excel <img class="tamimg" src="/assets/img/microsoft-excel.svg" alt=""></a>
          <a class="dropdown-item" (click)="descargarPDF()">Exportar a pdf <i class="material-icons">picture_as_pdf</i></a>
        </div>
      </li>

  
    </div>
    
    <div class="card-body text-center">
      <br>
          
      <div class="table-responsive">
        <table class="table">
          
          <thead class="text-primary">
            <th>Menú</th>
            <th>Fecha</th>
            <th>Cantidad del menú</th>
            <th>Con créditos</th>
            <th>Sin créditos</th>
            <th>Precio del menú</th>
            <th>Precio total con créditos</th>
            <th>Precio total Sin créditos</th>
            <th>Total</th>
          </thead>
          <tbody>
            <ng-container *ngFor="let item of reportesss">
              <tr>
                <td>{{ item.plato }}</td>
                <td>{{ item.fecha }}</td>
                <td>{{ item.cantidadPlato }}</td>
                <td>{{ item.conCreditos }}</td>
                <td>{{ item.sinCreditos }}</td>
                <td> 
                  <ng-container *ngIf="item.precio !== null">
                    <span *ngIf="item.precio.toString().startsWith('0')">
                      {{ truncateZeros(item.precio) }} ctvs
                    </span>
                    <span *ngIf="!item.precio.toString().startsWith('0')">
                      {{ item.precio }} $
                    </span>
                  </ng-container>
                 </td>

                 <td> 
                  <ng-container *ngIf="item.totalCredito !== null">
                    <span *ngIf="item.totalCredito.toString().startsWith('0')">
                      {{ truncateZeros(item.totalCredito) }} ctvs
                    </span>
                    <span *ngIf="!item.totalCredito.toString().startsWith('0')">
                      {{ item.totalCredito }} $
                    </span>
                  </ng-container>
                 </td>

                 <td> 
                  <ng-container *ngIf="item.totalSinCredito !== null">
                    <span *ngIf="item.totalSinCredito.toString().startsWith('0')">
                      {{ truncateZeros(item.totalSinCredito) }} ctvs
                    </span>
                    <span *ngIf="!item.totalSinCredito.toString().startsWith('0')">
                      {{ item.totalSinCredito }} $
                    </span>
                  </ng-container>
                 </td>

                 <td> 
                  <ng-container *ngIf="item.total !== null">
                    <span *ngIf="item.total.toString().startsWith('0')">
                      {{ truncateZeros(item.total) }} ctvs
                    </span>
                    <span *ngIf="!item.total.toString().startsWith('0')">
                      {{ item.total }} $
                    </span>
                  </ng-container>
                 </td>
             
               
              </tr>
            </ng-container>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>



<div class="col-md-12">
  <div class="card text-center " *ngIf="mostrarTablasemana && reportesss && reportesss.length > 0">
    <div class="card-header card-header-danger d-flex align-items-center justify-content-between">
      <h4 class="card-title disabled label2"> <img
        src="/assets/img/estadisticas.png"
        class="edit"
        alt=""
      /> Reporte de menú por Semana</h4>
     
     
      <li class="nav-item dropdown">
        <a class="nav-link label2 col" href="javascript:void(0)" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"  >
          Descargar    <i class="material-icons">file_download</i> 
          
            <p>
                <span class="d-lg-none d-md-block">Some Actions</span>
            </p>
        </a>
        <div class="dropdown-menu  dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">
            <a class="dropdown-item" (click)="descargarDatosSemana()"  >Exportar a excel <img class="tamimg" src="/assets/img/microsoft-excel.svg" alt=""> </a>
            <a class="dropdown-item" (click)="descargarSemanaPDF()"  > Exportar a pdf <i class="material-icons">picture_as_pdf</i></a>
          
            
        </div>
    </li>



    </div>
    <div class="card-body text-center">
      <div class="table-responsive">
        <table class="table">
          <thead class="text-primary">
            <th>Menú</th>
            <th>Fecha Inicio</th>
            <th>Fecha Final</th>
            <th>Cantidad del menú</th>
            <th>Con créditos</th>
            <th>Sin créditos</th>

            <th>Precio del menú</th>
            <th>Precio total con créditos</th>
            <th>Precio total Sin créditos</th>
            <th>Total</th>
          </thead>
          <tbody>
            <ng-container *ngFor="let item of reportesss">
              <tr>
                <td>{{ item.plato }}</td>
                <td>{{ item.fechaInicio }}</td>
                <td>{{ item.fechaFin }}</td>
                <td>{{ item.cantidadPlato }}</td>
                <td>{{ item.conCreditos }}</td>
                <td>{{ item.sinCreditos }}</td>

                
                <td> 
                  <ng-container *ngIf="item.totalCredito !== null">
                    <span *ngIf="item.totalCredito.toString().startsWith('0')">
                      {{ truncateZeros(item.totalCredito) }} ctvs
                    </span>
                    <span *ngIf="!item.totalCredito.toString().startsWith('0')">
                      {{ item.totalCredito }} $
                    </span>
                  </ng-container>
                 </td>

                 <td> 
                  <ng-container *ngIf="item.totalSinCredito !== null">
                    <span *ngIf="item.totalSinCredito.toString().startsWith('0')">
                      {{ truncateZeros(item.totalSinCredito) }} ctvs
                    </span>
                    <span *ngIf="!item.totalSinCredito.toString().startsWith('0')">
                      {{ item.totalSinCredito }} $
                    </span>
                  </ng-container>
                 </td>

                 <td> 
                  <ng-container *ngIf="item.total !== null">
                    <span *ngIf="item.total.toString().startsWith('0')">
                      {{ truncateZeros(item.total) }} ctvs
                    </span>
                    <span *ngIf="!item.total.toString().startsWith('0')">
                      {{ item.total }} $
                    </span>
                  </ng-container>
                 </td>
             
                <td>{{ item.total }}</td>
              </tr>
            </ng-container>
            
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>


<div class="col-md-12">
  <div class="card text-center " *ngIf="mostrarTablames && reportesss && reportesss.length > 0">
    <div class="card-header card-header-danger d-flex align-items-center justify-content-between">
      <h4 class="card-title disabled label2"> <img
        src="/assets/img/estadisticas.png"
        class="edit"
        alt=""
      /> Reporte de menú por Mes</h4>
     
     
      <li class="nav-item dropdown">
        <a class="nav-link label2 col" href="javascript:void(0)" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"  >
          Descargar    <i class="material-icons">file_download</i> 
          
            <p>
                <span class="d-lg-none d-md-block">Some Actions</span>
            </p>
        </a>
        <div class="dropdown-menu  dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">
            <a class="dropdown-item" (click)="descargarMesDatos()"  >Exportar a excel <img class="tamimg" src="/assets/img/microsoft-excel.svg" alt=""> </a>
            <a class="dropdown-item" (click)="descargarMesPDF()"  > Exportar a pdf <i class="material-icons">picture_as_pdf</i></a>
          
            
        </div>
    </li>



    </div>
    <div class="card-body text-center">
      <div class="table-responsive">
        <table class="table">
          <thead class="text-primary">
            <th>Menú</th>
            <th>Mes</th>
            <th>Cantidad del menú</th>
            <th>Con créditos</th>
            <th>Sin créditos</th>

            <th>Precio del menú</th>
            <th>Precio total con créditos</th>
            <th>Precio total Sin créditos</th>
            <th>Total</th>
          </thead>
          <tbody>
            <ng-container *ngFor="let item of reportesss">
              <tr>
                <td>{{ item.plato }}</td>
                <td>{{ getNombreMes(item.mes) }}</td>
                <td>{{ item.cantidadPlato }}</td>
                <td>{{ item.conCreditos }}</td>
                <td>{{ item.sinCreditos }}</td>

                
                <td> 
                  <ng-container *ngIf="item.totalCredito !== null">
                    <span *ngIf="item.totalCredito.toString().startsWith('0')">
                      {{ truncateZeros(item.totalCredito) }} ctvs
                    </span>
                    <span *ngIf="!item.totalCredito.toString().startsWith('0')">
                      {{ item.totalCredito }} $
                    </span>
                  </ng-container>
                 </td>

                 <td> 
                  <ng-container *ngIf="item.totalSinCredito !== null">
                    <span *ngIf="item.totalSinCredito.toString().startsWith('0')">
                      {{ truncateZeros(item.totalSinCredito) }} ctvs
                    </span>
                    <span *ngIf="!item.totalSinCredito.toString().startsWith('0')">
                      {{ item.totalSinCredito }} $
                    </span>
                  </ng-container>
                 </td>

                 <td> 
                  <ng-container *ngIf="item.total !== null">
                    <span *ngIf="item.total.toString().startsWith('0')">
                      {{ truncateZeros(item.total) }} ctvs
                    </span>
                    <span *ngIf="!item.total.toString().startsWith('0')">
                      {{ item.total }} $
                    </span>
                  </ng-container>
                 </td>
             
                <td>{{ item.total }}</td>
              </tr>
            </ng-container>
            
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

  
        </div>
      </mat-tab>
    </mat-tab-group>
  </div>

</div>
</div>
</div>



 
 


 